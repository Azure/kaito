# Karpenter Azure provider gpu-provisioner

![Version: 0.0.1](https://img.shields.io/badge/Version-0.0.1-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.1.0](https://img.shields.io/badge/AppVersion-0.1.0-informational?style=flat-square)

A Helm chart for gpu-provisioner

## Installing the Chart

To install the chart with the release name `gpu-provisioner`:

```bash
helm install gpu-provisioner ./charts/kaito/gpu-provisioner
```

## Values

| Key                                | Type   | Default                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Description                                                                                                                                                                                                      |
|------------------------------------|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| additionalAnnotations              | object | `{}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Additional annotations to add into metadata.                                                                                                                                                                     |
| additionalClusterRoleRules         | list   | `[]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Specifies additional rules for the core ClusterRole.                                                                                                                                                             |
| additionalLabels                   | object | `{}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Additional labels to add into metadata.                                                                                                                                                                          |
| affinity                           | object | `{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"kubernetes.azure.com/cluster","operator":"Exists"},{"key":"type","operator":"NotIn","values":["virtual-kubelet"]},{"key":"kubernetes.io/os","operator":"In","values":["linux"]}]},{"matchExpressions":[{"key":"karpenter.sh/provisioner-name","operator":"DoesNotExist"}]}]}},"podAntiAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":[{"topologyKey":"kubernetes.io/hostname"}]}}` | Affinity rules for scheduling the pod. If an explicit label selector is not provided for pod affinity or pod anti-affinity one will be created from the pod selector labels.                                     |
| controller.env                     | list   | `[{"name":"ARM_SUBSCRIPTION_ID","value":null},{"name":"AZURE_CLUSTER_NAME","value":null},{"name":"AZURE_NODE_RESOURCE_GROUP","value":null},{"name":"ARM_RESOURCE_GROUP","value":null}]`                                                                                                                                                                                                                                                                                                                               | Additional environment variables for the controller pod.                                                                                                                                                         |
| controller.envFrom                 | list   | `[]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                                                  |
| controller.errorOutputPaths        | list   | `["stderr"]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Controller errorOutputPaths - default to stderr only                                                                                                                                                             |
| controller.healthProbe.port        | int    | `8081`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | The container port to use for http health probe.                                                                                                                                                                 |
| controller.image.digest            | string | `""`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | SHA256 digest of the controller image.                                                                                                                                                                           |
| controller.image.repository        | string | `"ghcr.io/azure/gpu-provisioner"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Repository path to the controller image.                                                                                                                                                                         |
| controller.image.tag               | string | `"0.0.1"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Tag of the controller image.                                                                                                                                                                                     |
| controller.logEncoding             | string | `""`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Controller log encoding, defaults to the global log encoding                                                                                                                                                     |
| controller.logLevel                | string | `"debug"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Controller log level, defaults to the global log level                                                                                                                                                           |
| controller.metrics.port            | int    | `8000`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | The container port to use for metrics.                                                                                                                                                                           |
| controller.outputPaths             | list   | `["stdout"]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Controller outputPaths - default to stdout only                                                                                                                                                                  |
| controller.resources               | object | `{"limits":{"cpu":"500m"},"requests":{"cpu":"200m"}}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Resources for the controller pod.                                                                                                                                                                                |
| controller.securityContext         | object | `{}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | SecurityContext for the controller container.                                                                                                                                                                    |
| dnsConfig                          | object | `{}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Configure DNS Config for the pod                                                                                                                                                                                 |
| dnsPolicy                          | string | `"Default"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Configure the DNS Policy for the pod                                                                                                                                                                             |
| extraVolumes                       | list   | `[]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Additional volumes for the pod.                                                                                                                                                                                  |
| fullnameOverride                   | string | `""`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Overrides the chart's computed fullname.                                                                                                                                                                         |
| hostNetwork                        | bool   | `false`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Bind the pod to the host network. This is required when using a custom CNI.                                                                                                                                      |
| imagePullPolicy                    | string | `"IfNotPresent"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Image pull policy for Docker images.                                                                                                                                                                             |
| imagePullSecrets                   | list   | `[]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Image pull secrets for Docker images.                                                                                                                                                                            |
| logEncoding                        | string | `"console"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Global log encoding                                                                                                                                                                                              |
| logLevel                           | string | `"debug"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Global log level                                                                                                                                                                                                 |
| nameOverride                       | string | `""`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Overrides the chart's name.                                                                                                                                                                                      |
| namespace                          | string | `"gpu-provisioner"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                  |
| nodeSelector                       | object | `{"kubernetes.io/os":"linux"}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Node selectors to schedule the pod to nodes with labels.                                                                                                                                                         |
| podAnnotations                     | object | `{}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Additional annotations for the pod.                                                                                                                                                                              |
| podDisruptionBudget.maxUnavailable | int    | `1`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                  |
| podDisruptionBudget.name           | string | `"karpenter"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                  |
| podLabels                          | object | `{}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Additional labels for the pod.                                                                                                                                                                                   |
| podSecurityContext                 | object | `{"fsGroup":1000}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | SecurityContext for the pod.                                                                                                                                                                                     |
| priorityClassName                  | string | `"system-cluster-critical"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | PriorityClass name for the pod.                                                                                                                                                                                  |
| replicas                           | int    | `1`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Number of replicas.                                                                                                                                                                                              |
| revisionHistoryLimit               | int    | `10`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The number of old ReplicaSets to retain to allow rollback.                                                                                                                                                       |
| serviceAccount.annotations         | object | `{}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Additional annotations for the ServiceAccount.                                                                                                                                                                   |
| serviceAccount.create              | bool   | `true`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Specifies if a ServiceAccount should be created.                                                                                                                                                                 |
| serviceAccount.name                | string | `""`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The name of the ServiceAccount to use. If not set and create is true, a name is generated using the fullname template.                                                                                           |
| serviceMonitor.additionalLabels    | object | `{}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Additional labels for the ServiceMonitor.                                                                                                                                                                        |
| serviceMonitor.enabled             | bool   | `false`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Specifies whether a ServiceMonitor should be created.                                                                                                                                                            |
| serviceMonitor.endpointConfig      | object | `{}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Endpoint configuration for the ServiceMonitor.                                                                                                                                                                   |
| settings.azure                     | object | `{"clusterName":null}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Azure-specific configuration values                                                                                                                                                                              |
| settings.azure.clusterName         | string | `nil`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Cluster name.                                                                                                                                                                                                    |
| strategy                           | object | `{"rollingUpdate":{"maxUnavailable":1}}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Strategy for updating the pod.                                                                                                                                                                                   |
| terminationGracePeriodSeconds      | string | `nil`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Override the default termination grace period for the pod.                                                                                                                                                       |
| tolerations                        | list   | `[{"key":"CriticalAddonsOnly","operator":"Exists"}]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Tolerations to allow the pod to be scheduled to nodes with taints.                                                                                                                                               |
| topologySpreadConstraints          | list   | `[{"maxSkew":1,"topologyKey":"topology.kubernetes.io/zone","whenUnsatisfiable":"ScheduleAnyway"}]`                                                                                                                                                                                                                                                                                                                                                                                                                    | Topology spread constraints to increase the controller resilience by distributing pods across the cluster zones. If an explicit label selector is not provided one will be created from the pod selector labels. |
| workloadIdentity                   | object | `{"clientId":"","tenantId":""}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Global Settings to configure gpu-provisioner                                                                                                                                                                     |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.3](https://github.com/norwoodj/helm-docs/releases/v1.11.3)
