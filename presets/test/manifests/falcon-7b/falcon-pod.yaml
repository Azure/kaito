apiVersion: v1
kind: Pod
metadata:
  name: falcon-7b-1
spec:
  containers:
    - name: falcon-container
      image: aimodelsregistrytest.azurecr.io/falcon-7b:0.0.1
      command:
        - /bin/sh
        - -c
        - |
          sleep infinity
      volumeMounts:
        - name: dshm
          mountPath: /dev/shm
      # resources:
      #     limits:
      #       nvidia.com/gpu: 2
      #       # cpu: "24"
      #       # memory: "200Gi"
      #     requests:
      #       nvidia.com/gpu: 2
            # cpu: "24"
            # memory: "200Gi"
  volumes:
    - name: dshm
      emptyDir:
        medium: Memory
  tolerations:
    - effect: NoSchedule
      key: sku
      operator: Equal
      value: gpu
    - effect: NoSchedule
      key: nvidia.com/gpu
      operator: Exists
  # nodeSelector:
  #   kubernetes.io/hostname: aks-gpu-10910974-vmss000007